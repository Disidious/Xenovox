--
-- PostgreSQL database dump
--

-- Dumped from database version 13.4 (Debian 13.4-1.pgdg110+1)
-- Dumped by pg_dump version 13.4

-- Started on 2021-11-12 21:41:17 UTC

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 202 (class 1259 OID 16395)
-- Name: friends; Type: TABLE; Schema: public; Owner: fady
--

CREATE TABLE public.friends (
    user1id integer,
    user2id integer
);


ALTER TABLE public.friends OWNER TO fady;

--
-- TOC entry 207 (class 1259 OID 16443)
-- Name: group_members; Type: TABLE; Schema: public; Owner: fady
--

CREATE TABLE public.group_members (
    userid integer,
    groupid integer
);


ALTER TABLE public.group_members OWNER TO fady;

--
-- TOC entry 209 (class 1259 OID 16458)
-- Name: group_messages; Type: TABLE; Schema: public; Owner: fady
--

CREATE TABLE public.group_messages (
    id integer NOT NULL,
    message character varying NOT NULL,
    senderid integer,
    groupid integer
);


ALTER TABLE public.group_messages OWNER TO fady;

--
-- TOC entry 208 (class 1259 OID 16456)
-- Name: group_messages_id_seq; Type: SEQUENCE; Schema: public; Owner: fady
--

ALTER TABLE public.group_messages ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.group_messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 206 (class 1259 OID 16430)
-- Name: groups; Type: TABLE; Schema: public; Owner: fady
--

CREATE TABLE public.groups (
    id integer NOT NULL,
    name character varying NOT NULL,
    ownerid integer,
    picture character varying
);


ALTER TABLE public.groups OWNER TO fady;

--
-- TOC entry 205 (class 1259 OID 16428)
-- Name: groups_id_seq; Type: SEQUENCE; Schema: public; Owner: fady
--

ALTER TABLE public.groups ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 204 (class 1259 OID 16410)
-- Name: private_messages; Type: TABLE; Schema: public; Owner: fady
--

CREATE TABLE public.private_messages (
    id integer NOT NULL,
    message character varying NOT NULL,
    senderid integer,
    receiverid integer
);


ALTER TABLE public.private_messages OWNER TO fady;

--
-- TOC entry 203 (class 1259 OID 16408)
-- Name: private_messages_id_seq; Type: SEQUENCE; Schema: public; Owner: fady
--

ALTER TABLE public.private_messages ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.private_messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 201 (class 1259 OID 16387)
-- Name: users; Type: TABLE; Schema: public; Owner: fady
--

CREATE TABLE public.users (
    id integer NOT NULL,
    username character varying NOT NULL,
    password character varying NOT NULL,
    name character varying NOT NULL,
    email character varying NOT NULL,
    picture character varying,
    token character varying
);


ALTER TABLE public.users OWNER TO fady;

--
-- TOC entry 200 (class 1259 OID 16385)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: fady
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 2884 (class 2606 OID 16479)
-- Name: users email_unique; Type: CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT email_unique UNIQUE (email);


--
-- TOC entry 2894 (class 2606 OID 16465)
-- Name: group_messages group_messages_pkey; Type: CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.group_messages
    ADD CONSTRAINT group_messages_pkey PRIMARY KEY (id);


--
-- TOC entry 2892 (class 2606 OID 16437)
-- Name: groups groups_pkey; Type: CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.groups
    ADD CONSTRAINT groups_pkey PRIMARY KEY (id);


--
-- TOC entry 2890 (class 2606 OID 16417)
-- Name: private_messages private_messages_pkey; Type: CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.private_messages
    ADD CONSTRAINT private_messages_pkey PRIMARY KEY (id);


--
-- TOC entry 2886 (class 2606 OID 16477)
-- Name: users username_unique; Type: CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT username_unique UNIQUE (username);


--
-- TOC entry 2888 (class 2606 OID 16394)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 2901 (class 2606 OID 16451)
-- Name: group_members fk_groupid; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.group_members
    ADD CONSTRAINT fk_groupid FOREIGN KEY (groupid) REFERENCES public.groups(id);


--
-- TOC entry 2903 (class 2606 OID 16471)
-- Name: group_messages fk_groupid; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.group_messages
    ADD CONSTRAINT fk_groupid FOREIGN KEY (groupid) REFERENCES public.groups(id);


--
-- TOC entry 2899 (class 2606 OID 16438)
-- Name: groups fk_ownerid; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.groups
    ADD CONSTRAINT fk_ownerid FOREIGN KEY (ownerid) REFERENCES public.users(id);


--
-- TOC entry 2898 (class 2606 OID 16423)
-- Name: private_messages fk_receiverid; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.private_messages
    ADD CONSTRAINT fk_receiverid FOREIGN KEY (receiverid) REFERENCES public.users(id);


--
-- TOC entry 2897 (class 2606 OID 16418)
-- Name: private_messages fk_senderid; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.private_messages
    ADD CONSTRAINT fk_senderid FOREIGN KEY (senderid) REFERENCES public.users(id);


--
-- TOC entry 2902 (class 2606 OID 16466)
-- Name: group_messages fk_senderid; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.group_messages
    ADD CONSTRAINT fk_senderid FOREIGN KEY (senderid) REFERENCES public.users(id);


--
-- TOC entry 2895 (class 2606 OID 16398)
-- Name: friends fk_user1id; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.friends
    ADD CONSTRAINT fk_user1id FOREIGN KEY (user1id) REFERENCES public.users(id);


--
-- TOC entry 2896 (class 2606 OID 16403)
-- Name: friends fk_user2id; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.friends
    ADD CONSTRAINT fk_user2id FOREIGN KEY (user2id) REFERENCES public.users(id);


--
-- TOC entry 2900 (class 2606 OID 16446)
-- Name: group_members fk_userid; Type: FK CONSTRAINT; Schema: public; Owner: fady
--

ALTER TABLE ONLY public.group_members
    ADD CONSTRAINT fk_userid FOREIGN KEY (userid) REFERENCES public.users(id);


-- Completed on 2021-11-12 21:41:17 UTC

--
-- PostgreSQL database dump complete
--

